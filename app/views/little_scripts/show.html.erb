<header>
  <nav>
  <%= link_to "ðŸ  HOME", root_path %>
  <%= javascript_pack_tag 'standalone_clock' %>
  </nav>
</header>
<main class="show-script-main">
  <% l = @little_script.to_hash %>
  <section class="meta">
    <h1><%= @little_script.name %></h1>
    <h2>Could be finished by <span id="react-clock"> </span> </h2>
    <p class="playthough-duration">(total duration: <time> <%= l[:duration_hours]%>h <%= l[:duration_minutes] %>m </time> )</p>
    <%= content_tag :span,
                    id: "clock-node",
                    data: {date: (Time.now + @little_script.steps.map(&:duration).sum) }.to_json do %>
    <% end  %>

    <button class="go-button" id="<%= @little_script[:id] %>"> start play-through </button>
    <%= content_tag :section,
                    class: "rNode",
                    id: @little_script[:id].to_s,
                    data: l.to_json do %>
      <% end %>
  </section>
  <ul class="step-list">
    <%= render(@little_script.steps) %>
  </ul>
</main>

<footer>
  <details title="Add steps">
    <summary class="cheeky_heading">ADD STEPS</summary>
    <%= render 'steps/form', little_script_id: @little_script.id %>
  </details>

  <span class="delete-script-button">
    <%= button_to "Delete Little Script", { action: "destroy", id: @little_script.id },
                method: :delete, data: { confirm: "Are you sure?" } %>
  </span>
</footer>
